from absbox.local.china import SPV

test01 = SPV(
    "第三方增信"
    ,{"封包日":"2021-06-30","起息日":"2021-06-15","首次兑付日":"2021-07-26"
      ,"法定到期日":"2060-12-01","收款频率":"月末","付款频率":["每月",26]}
    ,{'清单':[["按揭贷款"
        ,{"放款金额":120,"放款利率":["固定",0.15],"初始期限":30
          ,"频率":"每月","类型":"等额本息","放款日":"2021-05-01"}
          ,{"当前余额":120
          ,"当前利率":0.45
          ,"剩余期限":20
          ,"状态":"正常"}]]}
    ,(("账户01",{"余额":0,"类型":{"目标储备金额":
                                   [["合计"
                                   ,("债券待付利息","A1")
                                   ,("待付费用",'增值税')
                                   ],1.0]
                               }})
      ,("账户02",{"余额":0}))
    ,(("A1",{"当前余额":100
             ,"当前利率":0.09
             ,"初始余额":100
             ,"初始利率":0.08
             ,"起息日":"2020-01-03"
             ,"利率":{"浮动":[0.08,"LPR5Y",0.025,["每月",1]]}
             ,"债券类型":{"过手摊还":None}})
      ,("B",{"当前余额":20
             ,"当前利率":0.0
             ,"初始余额":100
             ,"初始利率":0.07
             ,"起息日":"2020-01-03"
             ,"利率":{"固定":0.00}
             ,"债券类型":{"权益":None}
             }))
    ,(("增值税",{"类型":{"差额费用":[("*"
                                   ,("资产池累计",None,"利息"),0.0326)
                                   ,("费用支付总额",None,"增值税")]}})
     ,("承销费",{"类型":{"固定费用":8}}))
    ,{"未违约":[
         ["计提利息","A1"]
         ,["流动性支持偿还","余额","账户01","大原种保险公司"]
         ,["流动性支持","大原种保险公司","账户",["账户01"],{"公式": ("储备账户缺口","账户01")}]
         ,["支付费用","账户01",['增值税']]
         ,["支付费用","账户01",['承销费']]
         ,["计提支付利息","账户01",["A1"]]
         ,["支付本金","账户02",["A1"]]
         ,["支付本金","账户02",["B"]]
         ,["支付收益","账户02","B"]]
     ,"回款后":[["计提费用","增值税"]]}
    ,(["利息回款","账户01"]
      ,["本金回款","账户02"]
      ,["早偿回款","账户02"]
      ,["回收回款","账户02"])
    ,{"大原种保险公司":{"type":{"日期":"季度末","限额":10}
                    ,"credit":10
                    ,"start":"2021-06-15"}}
    ,None
    ,None
    ,None
    ,("设计","摊销")
)
